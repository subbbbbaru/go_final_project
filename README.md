## Описание проекта

Scheduler App - это веб-приложение для управления задачами с использованием базы данных SQLite. Оно позволяет добавлять, редактировать, удалять задачи и отмечать их выполнение. Реализована поддержка аутентификации с использованием JWT.

## Реализованный функционал

- Добавление задач
- Редактирование задач
- Удаление задач
- Отметка о выполнении задач
- Аутентификация с использованием JWT
- Поиск задач по заголовку, комментарию и дате
- Поддержка повторяющихся задач

Для работы Web-сервиса необходимо создать .env файл в корне проекта со следующими параметрами:
```
SERVER_PORT=Ваш порт для запуска приложения(по умолчанию 7540)
TODO_DBFILE=Имя базы данных(по умолчанию scheduler.db)
TODO_PASSWORD=Пароль для доступа к веб сервису
```
Существующую базу данных необходимо поместить в директорию ```db```

Для запуска контейнера выполните команды ниже(при необходимости заменти на нужные вам параметры)

```
docker build -t scheduler-app .
docker run --name scheduler-container -p 7545:7545 -v /path/to/database/in/host:/myapp/db -d scheduler-app
```

Приложение будет доступно по адресу http://localhost:7545.

## Инструкция по запуску тестов

1. В корневой директории проекта выполните сборку проекта командой ```go build cmd/main.go```.
2. Создайте ```.env``` файл с вашими параметрами.
3. Запустите исполняемый файл полученный на 1 шаге.
4. Отправьте запрос аутентификации на сервер и получите токен (см. инструкцию по аутентификации).
5. Перейдите в директорию tests.
6. Убедитесь, что все переменные в settings.go настроены правильно(в том числе токен с 4 шага).
3. Вернитесь в корневую директорию проекта и выполните команду ```go test ./tests.```

## Инструкция по аутентификации

1. Установите переменную окружения TODO_PASSWORD перед запуском приложения.
2. Для аутентификации отправьте POST-запрос на /api/signin с JSON-объектом:
```
{
    "password": "your_password"
}
```

3. В случае успешной аутентификации получите JWT-токен и используйте его для доступа к защищенным маршрутам.


## Примеры API-запросов

### Добавление задачи
```
POST /api/task
{
    "date": "20240201",
    "title": "Новая задача",
    "comment": "Описание задачи",
    "repeat": "d 1"
}
```
### Редактирование задачи
```
PUT /api/task
{
    "id": "1",
    "date": "20240202",
    "title": "Обновленная задача",
    "comment": "Обновленное описание задачи",
    "repeat": ""
}
```
### Удаление задачи
```
DELETE /api/task?id=1
```
### Отметка о выполнении задачи
```
POST /api/task/done?id=1
```
### Получение списка задач
```
GET /api/tasks
```
### Поиск задач
```
GET /api/tasks?search=бассейн
```
### Получение информации о задаче по ID
```
GET /api/task?id=1
```
